#ifndef __WALLDATA_H__
#define __WALLDATA_H__


#include "../jsoncpp/json.h"
#include "cocos2d.h"
#include <list>

using namespace std;
using namespace cocos2d;
//数据加载类
//单例
class CCWallData
{
private:
	int sceneConter; //总场景数
	const char *  sceneConfigPath; // 场景配置文件目录
	CCPoint IniLeadPosition; // 主角初始化位置
	string strPaths[30];//场景路径
	int sceneNext; //下一关ID
	int SelectID; //选择场景ID
	int dataTime; //游戏时间
	static CCWallData * m_pWallData;
	
public: 	
	bool m_bMusic; //音乐是否播放
	bool m_bsound; //是否播放音效；
private:
	CCWallData(void);
public:
	~CCWallData(void);
	
public: 
	/************************************************************************/
	/* 创建数据类                                                                     */
	/************************************************************************/
	static CCWallData* create();
	/************************************************************************/
	/* 初始化场景数及场景文件名                                                                     */
	/************************************************************************/
	void IniScenePath();
	/************************************************************************/
	/* 根据场景id获取墙体数据                                                                     */
	/************************************************************************/
	void getWall(int i, list<CCPoint> *Rad,list<CCPoint> *yellow,list<CCPoint> *blue,list<CCPoint> *green);
	/************************************************************************/
	/* 读取json数据                                                                     */
	/************************************************************************/
	Json::Value getJsonFromFile(const char* fileName,const char * path);
	/************************************************************************/
	/* 解析json数据获得墙体                                                                     */
	/************************************************************************/
	void ExplainWallFromJson(Json::Value value,int array[48][50]);

	/************************************************************************/
	/* 获取场景数                                                                     */
	/************************************************************************/
	int getSceneConter();
	/************************************************************************/
	/* 获取主角初始化位置                                                                     */
	/************************************************************************/
	CCPoint getLeadPosition(); 
	/************************************************************************/
	/* 设置下一关ID                                                                     */
	/************************************************************************/
	void setNextID(int i);

	/************************************************************************/
	/* 获取下一关ID                                                                     */
	/************************************************************************/
	int getNextID();

	/************************************************************************/
	/* 设置选择场景ID                                                                     */
	/************************************************************************/
	void setSelectID(int i);

	/************************************************************************/
	/* 获取选择场景ID                                                                     */
	/************************************************************************/
	int getSelectID();
	/************************************************************************/
	/* 获取时间*/
	/************************************************************************/
	int getDataTime();
	/************************************************************************/
	/* 时间累积                                                                     */
	/************************************************************************/
	void setDataTime(int i);
};

#endif
